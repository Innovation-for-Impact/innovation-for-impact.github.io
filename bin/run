#!/bin/bash
# insta485run - Script to run the development server

# Stop on errors
set -Eeuo pipefail
set -x

# Define the database file path
DB_PATH="var/website.sqlite3"

# Check if the database exists
if [ ! -f "$DB_PATH" ]; then
  echo "Error: can't find database $DB_PATH"
  echo "Try: ./bin/websitedb create"
  exit 1
fi

# Run the development server
echo "+ flask --app website --debug run --host 0.0.0.0 --port 8000"
flask --app website --debug run --host 0.0.0.0 --port 8000